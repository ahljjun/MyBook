# 

#### Channel

Don’t communicate by sharing memory, share memory by communicating.

通道：相当于FIFO的队列， 通道中的各个元素值都是严格地按照发送的顺序排列的，先被发送通道的元素值一定会先被接收。元素值的发送和接收都需要用到操作符 &lt;-

通道类型的值本身就是并发安全的.

缓冲通道: 容量为0;  同步操作，数据直接从发送方复制到接收方。

非缓冲通道： 容量大于0;  缓冲通道会作为收发双方的中间件，数据先复制到通道作中转。

**特性：**

* 对于同一个通道，发送操作之间是互斥的，接收操作之间也是互斥的
* 发送操作和接收操作中对元素的操作都是不可分割的。
* 发送操作在完成之前会阻塞，接收操作也是如此
* 元素值从外界进入通道时会被复制; 元素值从通道进入外界时会被移动\(生成副本给接收方，删除通道中的这个元素\)

**注意**：

* 除非有特殊的保障措施，千万不要让接收方关闭通道，而应当让发送方做这件事。
* 使用make 初始化，var ch3 chan int 这种方式是nil的通道，发送/接收都会足赛

### Atomic

1. 互斥锁 仍然可能被中断， 虽然可以保证临界区中代码的串行执行，但却不能保证_这些_代码执行的原子性\(atomicity\) 原子操作的过程中是不允许中断的。 
2.  因为原子操作不允许中断，这也要求原子操作要简单快速

    sync/atomic 包 中包含的原子操作：

加法\(add\),  比较并交换\(compare and swap,  CAS\)， 加载\(load\)，存储\(store\)和交换\(swap\)

